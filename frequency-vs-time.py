#!/usr/bin/env python3

__author__ = 'Austin'
import csv
import datetime
import gzip
import matplotlib.pyplot as plt
import numpy as np
from scipy.interpolate import spline


with gzip.open("hubway_trips.csv.gz", mode='rt') as csvfile:
    readCSV = csv.reader(csvfile, delimiter=",")
    dates = []

    for row in readCSV:
        date = row[4]
        reformed = date.split(" ")
        times = reformed[0].split("/")

        dates.append(times)


del dates[0]

dayCount = {}
dayList = []
number = 0


year = 2012

for i in dates:

    #checks if the year value in the dates is 2013
    if i[2] == str(year):

        #calculates the datetime difference between the given date and the begining of the year
        day = datetime.date(int(i[2]), int(i[0]), int(i[1])) - datetime.date(year, 1, 1)

        #calls the day value of the datetime
        actualDays = day.days

        #creates a list of all the days
        dayList.append(actualDays)

        #checks if the day of the year is in a dictionary
        if actualDays in dayCount:

            #if key is in dictionary, add 1 to the value
            dayCount[actualDays] += 1
        else:
            #if key is not in dictionary set the value to 1
            dayCount[actualDays] = 1
    else:
        pass

x = []
y = []

for key in dayCount.keys():
    x.append(key)
for val in dayCount.values():
    y.append(val)

print(x)
print(y)

arrayX = np.array(x)
arrayY = np.array(y)

xSmooth = np.linspace(arrayX.min(), arrayX.max(), 25)
ySmooth = spline(arrayX, arrayY, xSmooth)

plt.plot(arrayX, arrayY, ".")
plt.plot(xSmooth, ySmooth)

plt.xlim(0, 365)
plt.ylim(0, 6000)



rain = ['0', '0', '0', '0', '0', '0', '0', '0', '1', '0', '1', '1', '1', '0', '0', '1', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '1', '1', '1', '1', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '1', '0', '0', '0', '0', '0', '0', '0', '1', '1', '0', '0', '1', '1', '0', '0', '1', '0', '0', '0', '1', '0', '1', '1', '1', '0', '0', '0', '0', '1', '0', '0', '0', '0', '0', '0', '1', '0', '0', '0', '0', '0', '1', '0', '0', '1', '1', '0', '1', '1', '0', '0', '0', '0', '0', '0', '0', '1', '1', '1', '1', '1', '1', '0', '1', '0', '0', '1', '1', '0', '0', '1', '1', '1', '0', '0', '0', '0', '0', '0', '1', '0', '0', '0', '0', '0', '1', '1', '1', '1', '1', '0', '0', '1', '0', '0', '0', '1', '1', '1', '1', '1', '1', '1', '1', '0', '0', '1', '0', '0', '0', '0', '1', '0', '0', '1', '1', '1', '0', '1', '1', '1', '1', '1', '0', '0', '1', '1', '0', '0', '0', '0', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '0', '0', '0', '0', '1', '1', '1', '1', '1', '0', '1', '0', '0', '1', '0', '0', '0', '0', '0', '0', '1', '0', '1', '1', '0', '1', '1', '0', '0', '1', '1', '0', '1', '0', '0', '0', '1', '1', '0', '0', '0', '1', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '1', '0', '0', '0', '0', '1', '1', '1', '0', '0', '1', '0', '0', '0', '0', '1', '0', '1', '1', '0', '0', '1', '0', '0', '0', '0', '0', '1', '0', '0', '0', '0', '0', '0', '1', '0', '0', '0', '0', '1', '0', '1', '1', '0', '0', '0', '0', '1', '0', '0', '0', '0', '0', '1', '0', '0', '0', '1', '0', '0', '0', '0', '1', '0', '0', '1', '1', '1', '0', '1', '0', '0', '0', '1', '0', '0', '1', '0', '1', '0', '0', '0', '0', '1', '1', '0', '0', '0', '1', '0', '0', '0', '1', '1', '0', '0', '0', '1', '0', '0', '0', '0', '1', '1', '0', '1', '0', '0', '0', '0', '0', '1', '0', '0', '0', '0', '0', '0', '1', '1', '0', '0', '1', '0', '0', '1', '0', '0']
temps = ['29', '21', '16', '30', '35', '36', '34', '37', '37', '41', '36', '41', '46', '52', '39', '33', '36', '25', '37', '42', '27', '20', '13', '13', '17', '19', '23', '26', '31', '47', '46', '29', '25', '25', '27', '25', '33', '24', '27', '18', '26', '33', '40', '36', '37', '39', '35', '25', '25', '36', '35', '29', '32', '35', '34', '35', '35', '39', '39', '38', '38', '38', '36', '38', '38', '34', '35', '35', '33', '43', '46', '45', '31', '31', '35', '32', '27', '32', '33', '33', '35', '37', '41', '39', '42', '46', '43', '48', '47', '47', '49', '37', '39', '44', '48', '40', '43', '55', '59', '50', '46', '41', '44', '49', '44', '52', '57', '54', '64', '55', '44', '43', '42', '56', '57', '48', '49', '54', '58', '54', '53', '53', '49', '48', '47', '49', '60', '60', '58', '63', '66', '62', '53', '52', '56', '68', '62', '59', '57', '69', '59', '56', '65', '61', '48', '51', '60', '58', '64', '77', '83', '81', '78', '70', '64', '65', '63', '57', '67', '71', '64', '60', '64', '60', '64', '71', '69', '75', '65', '65', '68', '73', '75', '79', '83', '81', '74', '64', '72', '77', '77', '78', '72', '77', '85', '87', '86', '84', '76', '69', '77', '78', '70', '69', '81', '83', '84', '84', '84', '89', '88', '74', '72', '75', '77', '63', '67', '73', '71', '74', '75', '74', '74', '76', '74', '74', '70', '67', '70', '73', '74', '76', '72', '75', '70', '70', '69', '71', '69', '71', '74', '78', '78', '80', '72', '66', '72', '76', '71', '67', '65', '74', '76', '75', '75', '75', '73', '64', '62', '68', '67', '62', '68', '83', '78', '69', '63', '64', '60', '52', '63', '63', '63', '67', '64', '58', '58', '58', '59', '62', '62', '57', '58', '64', '72', '70', '63', '64', '59', '69', '60', '55', '55', '59', '57', '55', '53', '58', '57', '64', '63', '59', '57', '57', '60', '50', '50', '46', '47', '51', '50', '46', '46', '52', '66', '58', '44', '37', '40', '52', '56', '44', '41', '50', '47', '40', '32', '41', '50', '50', '47', '59', '41', '36', '39', '45', '41', '26', '26', '38', '51', '33', '29', '28', '41', '39', '43', '40', '47', '46', '37', '30', '37', '33', '28', '23', '23', '21', '31', '25', '19', '28', '35', '42', '48', '45', '37', '34', '22', '29', '32', '38', '39', '32', '20']



plt.plot(temps, x, ".")
plt.show()
